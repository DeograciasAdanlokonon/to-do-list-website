{% from "bootstrap5/form.html" import render_form %}
{% from 'bootstrap5/form.html' import render_field %}
{% extends "base.html" %}
{% block content %}

<div class="card shadow-sm">
  <div class="card-body">
    <h4 class="card-title mb-3">
      <i class="bi bi-list-task"></i> My To-Do List
    </h4>

    <!-- ToDo: Todo task form goes here -->
    {{ render_form(form, novalidate) }}

    <!-- Task list -->
    <ul class="list-group my-2">
      {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            {% if task.done %}
              <s>{{ task.description }}</s>
            {% else %}
              {{ task.description }}
            {% endif %}
          </div>
          <div>
            <a href="{{ url_for('toggle_task', id=task.id) }}" class="btn btn-sm btn-outline-success me-1">
              <i class="bi bi-check-lg"></i>
            </a>
            <a href="{{ url_for('edit_task', id=task.id) }}" class="btn btn-sm btn-outline-warning me-1" data-bs-toggle="modal" data-bs-target="#{{ task.id }}">
              <i class="bi bi-pencil"></i>
            </a>
            <a href="{{ url_for('delete_task', id=task.id) }}" class="btn btn-sm btn-outline-danger">
              <i class="bi bi-trash"></i>
            </a>
          </div>
        </li>
        {% include 'modal.html' %}
      {% else %}
        <li class="list-group-item text-muted">No tasks yet. Add one above!</li>
      {% endfor %}
    </ul>
  </div>
</div>



{% endblock %}
